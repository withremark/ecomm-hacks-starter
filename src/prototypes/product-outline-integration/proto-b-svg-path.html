<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype B: SVG Path Outline</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=DM+Sans:wght@400;500;600&display=swap');

        :root {
            --cream: #FAF8F3;
            --sepia: #8b7355;
            --pencil: #4a4a48;
            --vermillion: #c94c4c;
            --golden: #d4a574;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--cream);
            min-height: 100vh;
            padding: 2rem;
        }

        h1 {
            font-family: 'Crimson Pro', serif;
            font-weight: 300;
            font-size: 2rem;
            color: var(--sepia);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--sepia);
            opacity: 0.7;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .scene-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 40px rgba(74,74,72,0.12);
        }

        .scene-image {
            width: 100%;
            display: block;
        }

        /* SVG Overlay for custom paths */
        .svg-overlay {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .product-path {
            fill: rgba(255,255,255,0);
            stroke: rgba(255,255,255,0);
            stroke-width: 3;
            cursor: pointer;
            pointer-events: auto;
            transition: all 0.4s ease;
        }

        .product-path.active {
            fill: rgba(255,255,255,0.18);
            stroke: rgba(255,255,255,0.95);
            filter: drop-shadow(0 0 12px rgba(255,255,255,0.6))
                    drop-shadow(0 0 24px rgba(255,255,255,0.3));
        }

        /* Animated stroke for drawing effect */
        .product-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }

        .product-path.active {
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 0.6s ease-out, fill 0.3s ease 0.2s;
        }

        /* Product Card */
        .product-card {
            position: absolute;
            width: 260px;
            background: rgba(250,248,243,0.97);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(8px) scale(0.96);
            transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
            box-shadow: 0 12px 40px rgba(74,74,72,0.18);
            z-index: 50;
        }

        .product-card.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .card-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }

        .card-content {
            padding: 1rem 1.25rem 1.25rem;
        }

        .card-brand {
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--sepia);
            opacity: 0.7;
        }

        .card-name {
            font-family: 'Crimson Pro', serif;
            font-size: 1.15rem;
            color: var(--pencil);
            margin: 0.25rem 0 0.4rem;
        }

        .card-price {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--pencil);
            margin-bottom: 1rem;
        }

        .buy-btn {
            width: 100%;
            padding: 0.85rem;
            background: var(--pencil);
            border: none;
            border-radius: 8px;
            color: var(--cream);
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s;
        }

        .buy-btn:hover { background: var(--vermillion); }
        .buy-btn.success { background: #4a7c59; }

        .instructions {
            max-width: 900px;
            margin: 1.5rem auto 0;
            padding: 1rem 1.25rem;
            background: rgba(212,165,116,0.08);
            border: 1px dashed var(--golden);
            border-radius: 8px;
            font-size: 0.85rem;
            color: var(--sepia);
        }
    </style>
</head>
<body>
    <h1>Prototype B: SVG Path Outline</h1>
    <p class="subtitle">Custom SVG paths allow organic product shapes with animated stroke reveal</p>

    <div class="scene-container">
        <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=1200&h=800&fit=crop"
             alt="Parisian apartment" class="scene-image" id="sceneImage">

        <!-- SVG Overlay with custom paths -->
        <svg class="svg-overlay" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
            <!-- Product 1: Organic blob shape for bag -->
            <path class="product-path" id="path1"
                  d="M680,320 Q720,300 760,320 Q800,350 790,420 Q780,480 740,500 Q700,510 660,490 Q620,460 630,400 Q640,340 680,320 Z"
                  data-delay="800" data-product="1"/>

            <!-- Product 2: Curved rectangle for book/magazine -->
            <path class="product-path" id="path2"
                  d="M180,380 Q200,370 280,375 Q290,380 295,420 Q300,500 290,520 Q280,530 200,525 Q170,520 165,480 Q160,400 180,380 Z"
                  data-delay="800" data-product="2"/>

            <!-- Product 3: Irregular shape for vase/decor -->
            <path class="product-path" id="path3"
                  d="M450,450 Q470,420 510,430 Q550,450 560,500 Q565,560 530,590 Q490,610 450,580 Q420,550 425,500 Q430,460 450,450 Z"
                  data-delay="800" data-product="3"/>
        </svg>

        <!-- Product Cards -->
        <div class="product-card" id="card1" style="left: 68%; top: 20%;">
            <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400&h=300&fit=crop" class="card-image">
            <div class="card-content">
                <div class="card-brand">Louis Vuitton</div>
                <div class="card-name">Keepall Bandouliere 55</div>
                <div class="card-price">$2,420</div>
                <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
            </div>
        </div>

        <div class="product-card" id="card2" style="left: 3%; top: 38%;">
            <img src="https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?w=400&h=300&fit=crop" class="card-image">
            <div class="card-content">
                <div class="card-brand">Prada</div>
                <div class="card-name">Brushed Leather Loafers</div>
                <div class="card-price">$1,050</div>
                <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
            </div>
        </div>

        <div class="product-card" id="card3" style="left: 50%; top: 55%;">
            <img src="https://images.unsplash.com/photo-1608256246200-53e635b5b65f?w=400&h=300&fit=crop" class="card-image">
            <div class="card-content">
                <div class="card-brand">Acne Studios</div>
                <div class="card-name">Jensen Leather Boots</div>
                <div class="card-price">$680</div>
                <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
            </div>
        </div>
    </div>

    <div class="instructions">
        <strong>SVG Path Mode:</strong> Uses custom bezier curves to define organic product boundaries. The stroke animates in with a drawing effect. Hover for 800ms to activate.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const paths = document.querySelectorAll('.product-path');

            paths.forEach(path => {
                let timeout;
                const delay = parseInt(path.dataset.delay) || 800;
                const productId = path.dataset.product;
                const card = document.getElementById(`card${productId}`);

                path.addEventListener('mouseenter', () => {
                    timeout = setTimeout(() => {
                        path.classList.add('active');
                        card.classList.add('active');
                    }, delay);
                });

                path.addEventListener('mouseleave', () => {
                    clearTimeout(timeout);
                    path.classList.remove('active');
                    card.classList.remove('active');
                });

                // Keep active when on card
                card.addEventListener('mouseenter', () => {
                    clearTimeout(timeout);
                    path.classList.add('active');
                    card.classList.add('active');
                });

                card.addEventListener('mouseleave', () => {
                    path.classList.remove('active');
                    card.classList.remove('active');
                });
            });
        });

        function handleBuy(btn) {
            btn.textContent = 'Processing...';
            btn.disabled = true;
            setTimeout(() => {
                btn.classList.add('success');
                btn.textContent = 'Added!';
                setTimeout(() => {
                    btn.classList.remove('success');
                    btn.textContent = 'Buy Now';
                    btn.disabled = false;
                }, 2000);
            }, 800);
        }
    </script>
</body>
</html>
