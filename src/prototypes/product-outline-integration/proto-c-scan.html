<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype C: Scan Reveal Effect</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=DM+Sans:wght@400;500;600&display=swap');

        :root {
            --cream: #FAF8F3;
            --sepia: #8b7355;
            --pencil: #4a4a48;
            --vermillion: #c94c4c;
            --golden: #d4a574;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--cream);
            min-height: 100vh;
            padding: 2rem;
        }

        h1 {
            font-family: 'Crimson Pro', serif;
            font-weight: 300;
            font-size: 2rem;
            color: var(--sepia);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--sepia);
            opacity: 0.7;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .scene-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 40px rgba(74,74,72,0.12);
        }

        .scene-image {
            width: 100%;
            display: block;
        }

        /* Product Hotspot with scan effect */
        .product-hotspot {
            position: absolute;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
        }

        /* Scan line animation */
        .scan-line {
            position: absolute;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(255,255,255,0.4) 20%,
                rgba(255,255,255,0.9) 50%,
                rgba(255,255,255,0.4) 80%,
                transparent 100%
            );
            top: -10%;
            opacity: 0;
            pointer-events: none;
            box-shadow: 0 0 20px rgba(255,255,255,0.6);
        }

        /* Fill effect that follows scan */
        .scan-fill {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg,
                rgba(255,255,255,0.22) 0%,
                rgba(255,255,255,0) 100%
            );
            transform: scaleY(0);
            transform-origin: top;
            pointer-events: none;
        }

        /* Outline that draws after scan */
        .scan-outline {
            position: absolute;
            inset: 0;
            border: 2.5px solid rgba(255,255,255,0);
            border-radius: inherit;
            pointer-events: none;
            transition: border-color 0.3s ease;
        }

        /* Active state animations */
        .product-hotspot.active .scan-line {
            animation: scanDown 0.6s ease-out forwards;
        }

        .product-hotspot.active .scan-fill {
            animation: fillDown 0.6s ease-out forwards;
        }

        .product-hotspot.active .scan-outline {
            border-color: rgba(255,255,255,0.9);
            box-shadow:
                0 0 15px rgba(255,255,255,0.5),
                0 0 30px rgba(255,255,255,0.25);
            transition-delay: 0.4s;
        }

        @keyframes scanDown {
            0% {
                top: -10%;
                opacity: 1;
            }
            100% {
                top: 110%;
                opacity: 0.3;
            }
        }

        @keyframes fillDown {
            0% {
                transform: scaleY(0);
                opacity: 1;
            }
            100% {
                transform: scaleY(1);
                opacity: 1;
            }
        }

        /* Product Card */
        .product-card {
            position: absolute;
            width: 260px;
            background: rgba(250,248,243,0.97);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateX(10px);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
            box-shadow: 0 12px 40px rgba(74,74,72,0.18);
            z-index: 50;
        }

        .product-hotspot.active .product-card {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
            pointer-events: auto;
            transition-delay: 0.5s;
        }

        .card-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }

        .card-content {
            padding: 1rem 1.25rem 1.25rem;
        }

        .card-brand {
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--sepia);
            opacity: 0.7;
        }

        .card-name {
            font-family: 'Crimson Pro', serif;
            font-size: 1.15rem;
            color: var(--pencil);
            margin: 0.25rem 0 0.4rem;
        }

        .card-price {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--pencil);
            margin-bottom: 1rem;
        }

        .buy-btn {
            width: 100%;
            padding: 0.85rem;
            background: var(--pencil);
            border: none;
            border-radius: 8px;
            color: var(--cream);
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s;
        }

        .buy-btn:hover { background: var(--vermillion); }
        .buy-btn.success { background: #4a7c59; }

        .instructions {
            max-width: 900px;
            margin: 1.5rem auto 0;
            padding: 1rem 1.25rem;
            background: rgba(212,165,116,0.08);
            border: 1px dashed var(--golden);
            border-radius: 8px;
            font-size: 0.85rem;
            color: var(--sepia);
        }
    </style>
</head>
<body>
    <h1>Prototype C: Scan Reveal Effect</h1>
    <p class="subtitle">A scanning line reveals the product with a futuristic detection feel</p>

    <div class="scene-container">
        <img src="https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=1200&h=800&fit=crop"
             alt="Marble counter" class="scene-image">

        <!-- Product 1 -->
        <div class="product-hotspot"
             style="left: 45%; top: 35%; width: 25%; height: 35%;"
             data-delay="600">
            <div class="scan-line"></div>
            <div class="scan-fill"></div>
            <div class="scan-outline"></div>
            <div class="product-card" style="left: 105%; top: 0;">
                <img src="https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=400&h=300&fit=crop" class="card-image">
                <div class="card-content">
                    <div class="card-brand">Prada</div>
                    <div class="card-name">Galleria Saffiano Bag</div>
                    <div class="card-price">$3,200</div>
                    <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
                </div>
            </div>
        </div>

        <!-- Product 2 -->
        <div class="product-hotspot"
             style="left: 10%; top: 40%; width: 20%; height: 30%;"
             data-delay="600">
            <div class="scan-line"></div>
            <div class="scan-fill"></div>
            <div class="scan-outline"></div>
            <div class="product-card" style="left: 105%; top: -10px;">
                <img src="https://images.unsplash.com/photo-1627123424574-724758594e93?w=400&h=300&fit=crop" class="card-image">
                <div class="card-content">
                    <div class="card-brand">Louis Vuitton</div>
                    <div class="card-name">Zippy Wallet</div>
                    <div class="card-price">$890</div>
                    <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
                </div>
            </div>
        </div>

        <!-- Product 3 -->
        <div class="product-hotspot"
             style="left: 72%; top: 50%; width: 18%; height: 28%;"
             data-delay="600">
            <div class="scan-line"></div>
            <div class="scan-fill"></div>
            <div class="scan-outline"></div>
            <div class="product-card" style="left: -275px; top: 0;">
                <img src="https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400&h=300&fit=crop" class="card-image">
                <div class="card-content">
                    <div class="card-brand">Acne Studios</div>
                    <div class="card-name">Musubi Shoulder Bag</div>
                    <div class="card-price">$1,100</div>
                    <button class="buy-btn" onclick="handleBuy(this)">Buy Now</button>
                </div>
            </div>
        </div>
    </div>

    <div class="instructions">
        <strong>Scan Mode:</strong> A scanning line sweeps down to "detect" the product, filling it with a translucent overlay. The outline appears after the scan completes. 600ms hover delay.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hotspots = document.querySelectorAll('.product-hotspot');

            hotspots.forEach(hotspot => {
                let timeout;
                const delay = parseInt(hotspot.dataset.delay) || 600;

                hotspot.addEventListener('mouseenter', () => {
                    timeout = setTimeout(() => {
                        hotspot.classList.add('active');
                    }, delay);
                });

                hotspot.addEventListener('mouseleave', () => {
                    clearTimeout(timeout);
                    hotspot.classList.remove('active');
                });

                const card = hotspot.querySelector('.product-card');
                card.addEventListener('mouseenter', () => {
                    clearTimeout(timeout);
                    hotspot.classList.add('active');
                });
            });
        });

        function handleBuy(btn) {
            btn.textContent = 'Processing...';
            btn.disabled = true;
            setTimeout(() => {
                btn.classList.add('success');
                btn.textContent = 'Added!';
                setTimeout(() => {
                    btn.classList.remove('success');
                    btn.textContent = 'Buy Now';
                    btn.disabled = false;
                }, 2000);
            }, 800);
        }
    </script>
</body>
</html>
